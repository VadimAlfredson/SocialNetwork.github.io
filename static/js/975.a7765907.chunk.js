"use strict";(self.webpackChunkreact_vadim=self.webpackChunkreact_vadim||[]).push([[975],{5975:function(e,n,r){r.r(n),r.d(n,{default:function(){return z}});var o=r(2791),t=r(885),a=r(8159),s="users_usersComponent__8nRZo",i="users_formSearchBlock__2WRRL",c="users_searchInput__2r7sY",u="users_searchButton__ZGCpm",l="users_searchCheckbox__LqUAR",d="users_searchText__DnfT0",f=r(6871),m="paginator_activePage__eWc4N",h="paginator_paginator__QVHI9",p="paginator_pageNumber__7A1XW",C=r(8755),g=function(e){return e.users.users},v=function(e){return e.users.pageSize},x=function(e){return e.users.totalUsersCount},Z=function(e){return e.users.currentPage},b=function(e){return e.users.isFetching},j=function(e){return e.users.followingInProgress},_=function(e){return e.users.term},N=function(e){return e.users.friends},k=r(4554),w=r(184),M=function(e){for(var n=(0,C.CG)(v),r=(0,C.CG)(x),a=(0,C.CG)(Z),s=(0,C.CG)(_),i=(0,C.CG)(N),c=(0,o.useState)(1),u=(0,t.Z)(c,2),l=u[0],d=u[1],f=l>2?l-2:l>1?l-1:1,g=Math.ceil(r/n),b=[],j=f;j<=g;j++)b.push(j);return(0,o.useEffect)((function(){l!=a&&d(a||1)}),[a]),(0,w.jsx)(k.Z,{children:(0,w.jsxs)("div",{className:h,children:[l>3&&(0,w.jsx)("span",{className:1===a?m:p,onClick:function(){e.onPageChange(1,n,s),d(1)},children:1},1),l>4&&(0,w.jsx)("button",{className:p,onClick:function(){d((function(e){return e-1})),!0===i?e.onPageChange(l-1,n,s,i):e.onPageChange(l-1,n,s)},children:"<<"}),b.filter((function(e){return e>=f&&e<=l+2})).map((function(r){return(0,w.jsx)("span",{className:a===r?m:p,onClick:function(){!0===i?e.onPageChange(r,n,s,i):e.onPageChange(r,n,s),d(r)},children:r},r)})),l<g-2&&(0,w.jsx)("button",{className:p,onClick:function(){d((function(e){return e+1})),!0===i?e.onPageChange(l+1,n,s,i):e.onPageChange(l+1,n,s)},children:">>"}),l<g-2&&(0,w.jsx)("span",{className:a===g?m:p,onClick:function(){e.onPageChange(g,n,s),d(g)},children:g},g)]})})},y=r(2822),G=r(894),P=r(5705),R=r(132),S=function(e){var n=(0,C.CG)((function(e){return e.users.pageSize})),r=R.Ry().shape({search:R.Z_()});return(0,w.jsx)(P.J9,{initialValues:{search:"",subscriptionsCheckbox:!1},validateOnBlur:!0,onSubmit:function(r){console.log(r),e.onUsersChange(1,n,r.search,r.subscriptionsCheckbox)},validationSchema:r,children:function(e){var n=e.values,r=(e.errors,e.touched,e.handleBlur),o=e.handleChange,t=(e.isValid,e.handleSubmit);e.dirty;return(0,w.jsxs)("div",{className:i,children:[(0,w.jsx)("input",{className:c,type:"text",name:"search",onChange:o,onBlur:r,value:n.search,placeholder:"text"}),(0,w.jsx)("button",{className:u,onClick:function(){t()},type:"submit",children:"Search"}),(0,w.jsx)("div",{className:l,children:(0,w.jsx)("div",{className:"",children:(0,w.jsx)("input",{type:"checkbox",name:"subscriptionsCheckbox",onChange:o,onBlur:r,value:"".concat(n.subscriptionsCheckbox)})})}),(0,w.jsx)("div",{className:d,children:"Only subscriptions"})]})}})},I=r(7368),D=r(6314),B=r(7621),U=r(2169),F=r(9504),O=r(890),T=r(6151),V=function(e){var n=(0,C.CG)(g),r=(0,C.CG)(j),i=(0,C.CG)(I.Kj),c=(0,C.CG)(b),u=(0,C.CG)(_),l=(0,C.CG)(N),d=(0,C.CG)(v),m=(0,C.CG)(Z),h=(0,C.CG)(I.Pg),p=(0,o.useState)(m),x=(0,t.Z)(p,2),P=x[0],R=(x[1],(0,f.s0)()),V=(0,C.TL)(),z=(0,f.TH)(),E=function(e,n,r,o){R({pathname:"/users",search:r||o||e?"?"+(e?"pageNumber=".concat(e).concat(r||o?"&":""):"")+(r?"term=".concat(r).concat(o?"&":""):"")+(!0===o?"friend=".concat(o):""):""}),m==e&&u==r&&l==!!o||V((0,a.IV)(e,n,u||"",o))};return(0,o.useEffect)((function(){var e=z.search.substring(1).split("&").reduce((function(e,n){var r=n.split("="),o=(0,t.Z)(r,2),a=o[0],s=o[1];return e[a]=s?decodeURIComponent(s.replace(/\+/g,"")):"",e}),{}),n="true"===e.friend||void 0;P==+e.pageNumber&&u==(e.term?e.term:"")&&l==n||E(+e.pageNumber,d,e.term||"",n)}),[z.search]),(0,o.useEffect)((function(){R({pathname:"/users",search:u||l||P?"?"+(P?"pageNumber=".concat(P).concat(u||l?"&":""):"")+(u?"term=".concat(u).concat(l?"&":""):"")+(!0===l?"friend=".concat(l):""):""})}),[u,l,P]),(0,w.jsxs)("div",{className:s,children:[(0,w.jsx)(M,{onPageChange:E}),(0,w.jsx)(S,{onUsersChange:E}),c?(0,w.jsx)(y.Z,{}):(0,w.jsx)(D.Z,{display:"flex",flexDirection:"column",gap:1,children:n.map((function(e){return(0,w.jsxs)(B.Z,{sx:{display:"flex",backgroundColor:"#151515",width:{xs:"100%",sm:"auto"}},children:[(0,w.jsx)(U.Z,{component:"img",sx:{width:"150px"},image:null!==e.photos.small?e.photos.small:h,onClick:function(){R("/profile/"+e.id)}}),(0,w.jsxs)(k.Z,{display:"flex",flexDirection:"column",alignItems:"center",m:"0 auto",children:[(0,w.jsxs)(F.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flexGrow:1},children:[(0,w.jsx)(O.Z,{m:"0 auto",color:"#D0D3D4",component:"div",variant:"h6",children:e.name}),(0,w.jsx)(O.Z,{variant:"subtitle2",color:"#327d9b",component:"div",children:e.status})]}),(0,w.jsxs)(k.Z,{display:"flex",flexDirection:"row",mb:1,gap:1,children:[i?(0,w.jsx)(T.Z,{variant:"outlined",color:e.followed?"info":"success",disabled:r.includes(e.id),onClick:function(){return n=e.id,r=e.followed,void V((0,a.uq)(n,r));var n,r},children:e.followed?"Unfollow":"Follow"}):(0,w.jsxs)(T.Z,{onClick:function(){R("../login")},children:["color=","info","Register to subscribe"]}),i&&(0,w.jsx)(T.Z,{variant:"outlined",color:"success",onClick:function(){var n;n=e.id,V((0,G.yZ)(n)),R("/dialogs/".concat(n))},children:"Message"})]})]})]},e.id)}))})]})},z=function(e){return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(V,{})})}},9504:function(e,n,r){r.d(n,{Z:function(){return C}});var o=r(7462),t=r(3366),a=r(2791),s=r(8182),i=r(4419),c=r(6934),u=r(1402),l=r(5878),d=r(1217);function f(e){return(0,d.Z)("MuiCardContent",e)}(0,l.Z)("MuiCardContent",["root"]);var m=r(184),h=["className","component"],p=(0,c.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:function(e,n){return n.root}})((function(){return{padding:16,"&:last-child":{paddingBottom:24}}})),C=a.forwardRef((function(e,n){var r=(0,u.Z)({props:e,name:"MuiCardContent"}),a=r.className,c=r.component,l=void 0===c?"div":c,d=(0,t.Z)(r,h),C=(0,o.Z)({},r,{component:l}),g=function(e){var n=e.classes;return(0,i.Z)({root:["root"]},f,n)}(C);return(0,m.jsx)(p,(0,o.Z)({as:l,className:(0,s.Z)(g.root,a),ownerState:C,ref:n},d))}))},2169:function(e,n,r){r.d(n,{Z:function(){return v}});var o=r(3366),t=r(7462),a=r(2791),s=r(8182),i=r(4419),c=r(1402),u=r(6934),l=r(5878),d=r(1217);function f(e){return(0,d.Z)("MuiCardMedia",e)}(0,l.Z)("MuiCardMedia",["root","media","img"]);var m=r(184),h=["children","className","component","image","src","style"],p=(0,u.ZP)("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:function(e,n){var r=e.ownerState,o=r.isMediaComponent,t=r.isImageComponent;return[n.root,o&&n.media,t&&n.img]}})((function(e){var n=e.ownerState;return(0,t.Z)({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},n.isMediaComponent&&{width:"100%"},n.isImageComponent&&{objectFit:"cover"})})),C=["video","audio","picture","iframe","img"],g=["picture","img"],v=a.forwardRef((function(e,n){var r=(0,c.Z)({props:e,name:"MuiCardMedia"}),a=r.children,u=r.className,l=r.component,d=void 0===l?"div":l,v=r.image,x=r.src,Z=r.style,b=(0,o.Z)(r,h),j=-1!==C.indexOf(d),_=!j&&v?(0,t.Z)({backgroundImage:'url("'.concat(v,'")')},Z):Z,N=(0,t.Z)({},r,{component:d,isMediaComponent:j,isImageComponent:-1!==g.indexOf(d)}),k=function(e){var n=e.classes,r={root:["root",e.isMediaComponent&&"media",e.isImageComponent&&"img"]};return(0,i.Z)(r,f,n)}(N);return(0,m.jsx)(p,(0,t.Z)({className:(0,s.Z)(k.root,u),as:d,role:!j&&v?"img":void 0,ref:n,style:_,ownerState:N,src:j?v||x:void 0},b,{children:a}))}))},7621:function(e,n,r){r.d(n,{Z:function(){return g}});var o=r(7462),t=r(3366),a=r(2791),s=r(8182),i=r(4419),c=r(6934),u=r(1402),l=r(5527),d=r(5878),f=r(1217);function m(e){return(0,f.Z)("MuiCard",e)}(0,d.Z)("MuiCard",["root"]);var h=r(184),p=["className","raised"],C=(0,c.ZP)(l.Z,{name:"MuiCard",slot:"Root",overridesResolver:function(e,n){return n.root}})((function(){return{overflow:"hidden"}})),g=a.forwardRef((function(e,n){var r=(0,u.Z)({props:e,name:"MuiCard"}),a=r.className,c=r.raised,l=void 0!==c&&c,d=(0,t.Z)(r,p),f=(0,o.Z)({},r,{raised:l}),g=function(e){var n=e.classes;return(0,i.Z)({root:["root"]},m,n)}(f);return(0,h.jsx)(C,(0,o.Z)({className:(0,s.Z)(g.root,a),elevation:l?8:void 0,ref:n,ownerState:f},d))}))}}]);
//# sourceMappingURL=975.a7765907.chunk.js.map